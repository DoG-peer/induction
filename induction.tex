\documentclass{jsarticle}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{enumerate}
\theoremstyle{definition}
\numberwithin{equation}{section}
\newtheorem{thm}{定理}
\newtheorem{dfn}[thm]{定義}

\author{}
\title{数学的帰納法ができないプログラマーへのノート}
\date{}

\begin{document}
\maketitle
\section{イントロ}
高校の数学でする帰納法ですが，あれは「どの自然数$n$も条件(＊)をみたす」という感じの命題に対する証明法として紹介され，演習問題などに取り組まれたと思います．
もっと思い出すと，なにやら呪文的に「$n$についての数学的帰納法により証明する」という風に証明の開始時に唱えだしたと思います．

このイメージで自然数が出てきたら常に帰納法しか考えられない人がいらっしゃって困るのですが･･･

予断はさておき，帰納法が使えるのは自然数だけではありません．
いい加減に言ってしまえば，「たくさんある``状態''が，すべて条件(＊)を満たす」という命題に対して，これらの``状態''の間にいい感じの順序があると帰納法が使える．
自然数の場合を考えてみると，大小関係という順序があり，状態$n$で証明するために，$n$より小さい値でなら命題が正しいと仮定して議論をする．
別の言い方をすると，ある状態で正しいことを示すために，
それより``手前''の状態で正しいことを仮定して議論を進める手法といえる．

伝えたいのは，``手前''ってのがあれば帰納法を期待しても悪くはないということ．

ここでプログラミングの話をする．
再帰関数を考える．
ある引数に対する値を出すために，別の引数(複数あっても良い)に対する値を参照する関数だ．
下手な参照してしまうと，計算が止まらなかったりする．
後者の引数での値を計算し，その後，それを用いて前者の引数での値を求めるという関係にあり，前者の引数に対して後者の引数は``手前''とみなせそうである．
これがちゃんと順序になっていたら，帰納法が使える．

$$f(0) = f(1) + 1$$
$$f(1) = f(0) + 1$$
というような例は0について計算するのに1に行って，1について計算するときに0に行って･･･という風に永遠にループしてしまっては``手前''とは言えない．
また，
$$f(n) = f(n-1)$$
とだけ，定義して，特定の$n$に対する値が定められていないときは，永遠に一つ前にもどるというのを繰り返してしまう．``いい感じの手前''でないといけない．

再帰関数が目的の関数になっているか？という問題を考えるとき，``いい感じの手前''がちゃんと定義されていることを確認した上で，``手前''の引数に対して正しいとすると仮定して目的の引数でも正しいか？という議論を行う帰納法が使える．
もっとも，この場合，``いい感じの手前''がちゃんと定義されているかを確かめるのが難点になるのだが．

このように帰納法は高校で習うより適用範囲は広い．

\section{数学の定義}
数学的帰納法を数学的にする．ふ〜んという気分で読み流してもらってかまわない．
\begin{dfn}[関係]
	集合$X$に定められた関係$\le$とは，
	$X\times X$の部分集合のこと．

	$(x,y)$がこれに含まれるとき，$x\le y$と書く．
\end{dfn}

\begin{dfn}[順序]
	集合$X$に定義された関係$\le$が順序とは
	\begin{enumerate}
		\item $x\le x$
		\item $x\le y$かつ$y\le x$なら$x = y$
		\item $x\le y$かつ$y\le z$なら$x\le z$
	\end{enumerate}
	の3条件が満たされることをいう．
	また$X$は順序集合という．(精度よく言えば，対$(X,\le)$のことを順序集合という)
	$x< y$と書くと，$x\le y$かつ$x\neq y$を意味する．
\end{dfn}

\begin{dfn}[極小]
	$X$順序集合．
	$x\in X$が極小元とは，
	$y\le x$ならば$y = x$になることをいう．
\end{dfn}
極小元は存在しないときもあれば複数あるときもある．
\begin{dfn}[極小条件]
	$X$順序集合．$X$の任意の空でない部分集合に$X$の順序を制限した順序を与え順序集合にしたとき，これが少なくとも一つの極小元をもつとする．このとき$X$は極小条件を満たすという．	
\end{dfn}

\begin{thm}[数学的帰納法]
	順序集合$X$と，$X$の元に対する条件$P$がある．
	$X$が極小条件を満たし，命題「任意の$x\in X$に対して，「$X$の元$y$が$y< x$なら$y$は$P$を満たす」なら$x$も$P$を満たす」が成立しているならば，
	命題「任意の$x\in X$が条件$P$を満たす」が成立する．
\end{thm}
証明は，$\left\{ x\in X \mid x\text{が}P\text{を満たさない} \right\}$という集合を考え，これが空でないと仮定する背理法により行う．
この集合の極小元に注目するのがポイントだろう．
\section{例}
$X=\mathbb{N}$(自然数全体)のとき，順序は普通の大小関係．空でない部分集合の極小元はまさしく，その部分集合中の最小の値．

高校数学でよくあるような，$n = 1$のときを確かめて，$n = k$のときの成立を仮定して$n= k+1$の場合を証明する，という行いの前章の定理のような解釈をするなら次のようになる．

仮定内の「$X$の元$y$が$y< x$なら$y$は$P$を満たす」という部分が$x> 1$のときは，$y<x$となる自然数$y$で$P$が成立すると仮定するわけだが，とくに$y= x-1$が$P$を満たすことだけを利用し，この仮定のもと$x= k+1$での証明を目指す．
$x= 1$のときだけは,$x-1 = 0$は自然数ではないので同じようには出来ない．なので，$x = 1$のときだけ特別視して最初に証明する．

今度は再帰関数の話をしよう．

イントロでいい加減に``いい感じの手前''と書いてきたものをちゃんと言うと，
引数（複数個の引数を持つ場合は，それらをひとまとめにして一つの引数だと思って）の集合に順序を，$x$が引数に対し，$f(x)$の定義の中に出てくる引数$y$があれば，$y< x$となるような順序を考える(推移律$x\le y$かつ$y\le z$なら$x\le z$を満たすように拡張させる)．
これが極小条件を満たす順序集合になっていると，``いい感じの手前''が定義されたことになる．
実際に極小条件を満たすかを確かめるところに問題の難所となり，勝負どころとなる．

\end{document}

